"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8056],{21093:function(e,n,t){t.d(n,{Z:function(){return a}});var r=t(85893),o=t(95477);function a(){return(0,r.jsx)("div",{style:{height:"calc(100vh - 64px)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"absolute",top:64,left:0,right:0},children:(0,r.jsx)(o.Z,{})})}},34647:function(e,n,t){t.d(n,{Z:function(){return f}});var r=t(14924),o=t(85893),a=t(41120),c=t(59693),s=t(79895),i=t(86010),u=t(45697),l=t.n(u),d=(0,a.Z)((function(e){return{root:{position:"fixed",zIndex:1,bottom:0,left:0,padding:e.spacing(1),color:e.palette.secondary.contrastText,width:"100vw",top:"unset",display:"flex",justifyContent:"center",background:(0,c.U1)(e.palette.secondary.dark,.95),borderRadius:0,boxShadow:"0px -10px 10px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12)",transform:"translateY(50px)",transition:"transform 150ms ease-in"},visible:{transform:"translateY(0)"}}}));function f(e){var n,t=e.visible,a=e.children,c=d();return(0,o.jsx)(s.Z,{elevation:5,className:(0,i.Z)((n={},(0,r.Z)(n,c.root,!0),(0,r.Z)(n,c.visible,t),n)),children:a})}f.propTypes={visible:l().bool.isRequired},f.defaultProps={visible:!0}},23424:function(e,n,t){t.d(n,{Z:function(){return S}});var r=t(47568),o=t(34051),a=t.n(o),c=t(85893),s=t(67294),i=t(41664),u=t.n(i),l=t(41120),d=t(43832),f=(0,l.Z)((function(e){return{breadcrumbs:{backgroundColor:e.palette.background.paper,padding:e.spacing(1,0)},container:{display:"flex",flexDirection:"row",alignItems:"center"},breadcrumb:{color:e.palette.text.secondary},separator:{color:e.palette.text.disabled,margin:e.spacing(0,1)}}}));function p(e){var n=e.children,t=f();return(0,c.jsx)("div",{className:t.breadcrumbs,children:(0,c.jsx)(d.Z,{className:t.container,maxWidth:"xl",children:n})})}function v(e){var n=e.children,t=f();return(0,c.jsx)("div",{className:t.breadcrumb,children:n})}function x(e){e.children;var n=f();return(0,c.jsx)("div",{className:n.separator,children:"/"})}var h=t(26042),m=t(69396),Z=t(99534),b=t(88867),j=t(28299),g=t(37702),C=t(55517),y=t(11163);function k(e){var n=e.onSelect,t=e.onRemove,r=e.value,o=e.resourceType,a=e.resourceID,i=(0,Z.Z)(e,["onSelect","onRemove","value","resourceType","resourceID"]),u=(0,s.useContext)(b.Z).session.projects,l=(0,y.useRouter)().push,d=(0,s.useCallback)((function(){l("/projects/new?resourceType=".concat(encodeURIComponent(o),"&resourceID=").concat(encodeURIComponent(a),"&returnTo=").concat(encodeURIComponent(location.pathname),"&returnMessage=").concat(encodeURIComponent(r?"Moved to":"Added to")))}),[o,a,r]),f=null===u||void 0===u?void 0:u.filter((function(e){return!r||e.id!==r.id})).map((function(e,t){return(0,c.jsx)(g.Z,{onClick:function(){return n(e)},children:e.name},t)}));return(0,c.jsxs)(j.Z,(0,m.Z)((0,h.Z)({},i),{children:[f,(null===f||void 0===f?void 0:f.length)>0&&(0,c.jsx)(C.Z,{}),(0,c.jsx)(g.Z,{onClick:d,children:(0,c.jsx)("i",{children:"New Project..."})}),r&&(0,c.jsx)(C.Z,{}),r&&(0,c.jsxs)(g.Z,{onClick:t,children:["Remove from ",r.name]})]}))}var w=t(68869);function S(e){var n=e.resource,t=e.label,o=e.modelType,i=e.baseHref,l=e.name,d=(0,s.useState)(n.project),f=d[0],h=d[1];(0,s.useEffect)((function(){h(n.project)}),[n.project]);var m=(0,s.useCallback)((0,r.Z)(a().mark((function e(){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o||t,e.next=3,fetch("/rest/projects/".concat(f.id,"/resources/").concat(r,"/").concat(n.id),{method:"DELETE"});case 3:e.sent.ok&&((0,w.Z)("Removed from ".concat(f.name)),h(null));case 5:case"end":return e.stop()}}),e)}))),[f,o,t]),Z=(0,s.useCallback)((function(e){var c=function(){var c=(0,r.Z)(a().mark((function r(){return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("/rest/projects/".concat(e.id,"/resources"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({resource_type:o||t,resource_id:n.id})});case 2:r.sent.ok&&((0,w.Z)("".concat(f?"Moved":"Added"," to ").concat(e.name)),h(e));case 4:case"end":return r.stop()}}),r)})));return function(){return c.apply(this,arguments)}}();c()}),[f,o,t]);return(0,c.jsxs)(p,{children:[null==f?(0,c.jsx)(v,{children:(0,c.jsx)(u(),{href:i,children:(0,c.jsxs)("a",{children:["My ",t,"s"]})})}):(0,c.jsx)(v,{children:(0,c.jsx)(u(),{href:"/projects/[id]",as:"/projects/".concat(f.id),children:(0,c.jsx)("a",{children:f.name})})}),(0,c.jsx)(x,{}),(0,c.jsx)(v,{children:l||n.name}),(0,c.jsx)("div",{style:{flex:1}}),(0,c.jsx)(k,{size:"small",text:f?"Move to Project...":"Add to Project...",variant:"outlined",value:f,onSelect:Z,onRemove:m,resourceType:o,resourceID:n.id})]})}S.defaultProps={}},1132:function(e,n,t){t.d(n,{Z:function(){return d}});var r=t(26042),o=t(69396),a=t(99534),c=t(85893),s=t(41120),i=t(282),u=t(95477),l=(0,s.Z)((function(e){return{disabled:{borderColor:"rgba(255, 255, 255, 0.4) !important",color:"rgba(255, 255, 255, 0.4) !important"}}}));function d(e){var n=e.classes,t=e.onClick,s=e.isSubmitting,d=e.dirty,f=e.text,p=e.isNew,v=e.isValid,x=(0,a.Z)(e,["classes","onClick","isSubmitting","dirty","text","isNew","isValid"]);return n=l({classes:n}),s?f="Saving...":d||p||(f="Changes Saved"),(0,c.jsx)(i.Z,(0,o.Z)((0,r.Z)({classes:n,onClick:t,disabled:s||!p&&!d||!v,type:t?"button":"submit",variant:"contained",color:"primary",startIcon:s&&(0,c.jsx)(u.Z,{size:16,color:"inherit"})},x),{children:f}))}},60568:function(e,n,t){t.d(n,{Z:function(){return l}});var r=t(47568),o=t(34051),a=t.n(o),c=t(11163),s=t(67294),i=t(68869),u=t(88867);function l(e){var n=e.createNew,t=void 0===n?function(){return{id:null,name:""}}:n,o=e.creationMessage,l=e.apiPath,d=e.isNew,f=(0,c.useRouter)(),p=f.query,v=f.push,x=p.id,h=p.returnTo,m=p.returnMessage,Z=p.clone,b=p.shareId;d=d||"new"===x;var j=(0,s.useContext)(u.Z).refresh,g=(0,s.useState)(d?t():null),C=g[0],y=g[1],k=(0,s.useState)(!1),w=k[0],S=k[1],I=(0,s.useCallback)((0,r.Z)(a().mark((function e(){var n,t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=b?"/rest/".concat(l,"/share/").concat(encodeURIComponent(b)):"/rest/".concat(l,"/").concat(x||"new","?").concat(new URLSearchParams(p).toString()),e.next=4,fetch(n);case 4:if(404!==(t=e.sent).status){e.next=9;break}y(null),S(!0),e.next=14;break;case 9:return e.next=11,t.json();case 11:return r=e.sent,y(r),e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)}))),[x,b]);(0,s.useEffect)((function(){if(Z){var e="clone:".concat(Z),n=localStorage.getItem(e);if(n)return y(JSON.parse(n)),void localStorage.removeItem(e)}d?y(t()):(b||x)&&I()}),[x,Z,b,I]);var R=(0,s.useCallback)((function(e){d?(v(h||"/".concat(l)),(0,i.Z)(m?"".concat(m," ").concat(e.name):o(e)),j()):(y(e),(0,i.Z)("Changes Saved"))}),[x,h]);return{afterSave:R,record:C,setRecord:y,notFound:w,refresh:I}}},2584:function(e,n,t){var r=t(26042),o=t(69396),a=t(85893),c=t(41120),s=t(7560),i=t(22318),u=t(17812),l=t(33426),d=t(41959),f=t(80366),p=t(59067),v=t(67294),x=(0,c.Z)((function(e){return{root:{"&:hover $control":{visibility:"visible"}},control:{visibility:"hidden"}}}));function h(e){var n=e.defaultValue,t=e.disabled,c=e.style,h=e.value,m=e.onChange,Z=x(),b=(0,v.useState)({isEditing:!1,value:h}),j=b[0],g=b[1],C=(0,v.useState)(null),y=C[0],k=C[1];(0,v.useEffect)((function(){g((function(e){return(0,o.Z)((0,r.Z)({},e),{value:h})}))}),[h]);var w=(0,v.useCallback)((function(e){g((function(n){return(0,o.Z)((0,r.Z)({},n),{value:e.target.value})}))}),[]),S=(0,v.useCallback)((function(){g((function(e){return(0,o.Z)((0,r.Z)({},e),{isEditing:!1,value:y})}))}),[y]),I=(0,v.useCallback)((function(){g((function(e){return(0,o.Z)((0,r.Z)({},e),{isEditing:!1})})),m&&m(j.value)}),[j.value]),R=(0,v.useCallback)((function(){g((function(e){return(0,o.Z)((0,r.Z)({},e),{isEditing:!0})})),k(j.value)}),[j.value]);return(0,a.jsxs)(s.Z,{display:"inline-flex",alignItems:"center",className:Z.root,style:c,children:[!j.isEditing&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{variant:"h1",onClick:R,children:t?n:j.value}),t?null:(0,a.jsx)(u.Z,{className:Z.control,onClick:R,children:(0,a.jsx)(p.Z,{})})]}),j.isEditing&&(0,a.jsx)(l.Z,{autoFocus:!0,size:"small",variant:"outlined",onChange:w,value:j.value,style:{width:400},InputProps:{style:{paddingRight:3},endAdornment:(0,a.jsxs)(s.Z,{display:"flex",children:[(0,a.jsx)(u.Z,{onClick:S,children:(0,a.jsx)(f.Z,{})}),(0,a.jsx)(u.Z,{onClick:I,children:(0,a.jsx)(d.Z,{})})]})}})]})}n.Z=(0,v.memo)(h)}}]);