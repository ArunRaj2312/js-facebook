(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9876],{14633:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quote",function(){return n(89382)}])},89382:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var i=n(47568),r=n(34051),a=n.n(r),o=n(85893),s=n(41120),c=n(8920),d=n(43832),l=n(41749),p=n(22318),u=n(33426),h=n(282),f=n(95477),m=n(68794),v=n(67294),x=n(88867),g=n(51741),y=n(74231),_=n(34853),b=n(11163),w=n(92981),j=n(99954),C=(0,s.Z)((function(e){return{licenses:{width:120},optional:{opacity:.6}}}));function R(){var e=(0,v.useContext)(x.Z).session,t=C(),n=(0,c.Z)(),r=(0,v.useRef)(),s=(0,b.useRouter)().query,R=(0,v.useCallback)(function(){var e=(0,i.Z)(a().mark((function e(t,n){var i,o,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r.current){e.next=5;break}return e.next=4,r.current.executeAsync();case 4:i=e.sent;case 5:if(""!==t.silver_licenses||""!==t.gold_licenses||""!==t.enterprise_licenses){e.next=8;break}return(0,j.Z)({message:"Please add at least one Silver, Gold, or Enterprise license to continue."}),e.abrupt("return");case 8:return e.next=10,fetch("/rest/quotes",{method:"POST",body:JSON.stringify({quote:t,recaptcha_token:i}),headers:{"Content-Type":"application/json"}});case 10:if(!(o=e.sent).ok){e.next=16;break}return e.next=14,o.json();case 14:s=e.sent,window.open("/rest/quotes/".concat(s.id));case 16:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[]),Z=(0,v.useMemo)((function(){return y.Ry().shape({name:y.Z_().required("Name is required"),email:y.Z_().email("Invalid email").required("Email address is required")})}),[]),E=(0,m.TA)({validateOnBlur:!0,validateOnChange:!1,initialValues:{name:"",email:e.user||"",company_name:"",company_info:"",additional_info:"",silver_licenses:"",gold_licenses:"",enterprise_licenses:""},onSubmit:R,validationSchema:Z}),L=E.values,O=E.handleChange,k=E.handleSubmit,S=E.errors,N=E.isValid,I=E.isSubmitting,T=E.setFieldValue,q=E.handleBlur;return(0,v.useEffect)((function(){(null===s||void 0===s?void 0:s.enterprise_licenses)&&T("enterprise_licenses",s.enterprise_licenses)}),[s]),(0,v.useEffect)((function(){e.user&&T("email",e.user)}),[null===e||void 0===e?void 0:e.user,T]),(0,o.jsxs)(d.Z,{maxWidth:"xl",style:{marginTop:n.spacing(4)},children:[!e.user&&(0,o.jsx)(_.Z,{sitekey:"6LeHZA4aAAAAACKDPU0EevwckEYO17FoGdCyxnob",size:"invisible",ref:r}),(0,o.jsxs)(l.Z,{container:!0,spacing:4,children:[(0,o.jsx)(l.Z,{item:!0,xs:12,children:(0,o.jsx)(p.Z,{variant:"h1",children:"Request a Quote"})}),(0,o.jsx)(l.Z,{item:!0,xs:12,children:(0,o.jsx)(p.Z,{variant:"h2",children:"Company Information"})}),(0,o.jsxs)(l.Z,{item:!0,xs:12,children:[(0,o.jsx)(g._,{children:"Your Name"}),(0,o.jsx)(u.Z,{variant:"outlined",style:{width:400},size:"small",name:"name",onChange:O,value:L.name,error:null!=S.name,helperText:S.name,onBlur:q})]}),(0,o.jsxs)(l.Z,{item:!0,xs:12,children:[(0,o.jsx)(g._,{children:"Email Address"}),(0,o.jsx)(u.Z,{style:{width:400},variant:"outlined",size:"small",name:"email",onChange:O,value:L.email,error:null!=S.email,helperText:S.email,onBlur:q})]}),(0,o.jsxs)(l.Z,{item:!0,xs:12,children:[(0,o.jsxs)(g._,{children:["Company Name ",(0,o.jsx)("span",{className:t.optional,children:"(Optional)"})]}),(0,o.jsx)(u.Z,{style:{width:400},variant:"outlined",size:"small",name:"company_name",onChange:O,value:L.company_name})]}),(0,o.jsxs)(l.Z,{item:!0,xs:12,children:[(0,o.jsxs)(g._,{children:["Company Address"," ",(0,o.jsx)("span",{className:t.optional,children:"(Optional, You only need to provide this if you want it included in the formal quote.)"})]}),(0,o.jsx)(u.Z,{rows:4,multiline:!0,fullWidth:!0,variant:"outlined",size:"small",name:"company_info",onChange:O,value:L.company_info})]}),(0,o.jsxs)(l.Z,{item:!0,xs:12,children:[(0,o.jsxs)(g._,{children:["Any additional information you would like to appear on the invoice"," ",(0,o.jsx)("span",{className:t.optional,children:"(Optional)"})]}),(0,o.jsx)(u.Z,{rows:4,multiline:!0,fullWidth:!0,variant:"outlined",size:"small",name:"additional_info",onChange:O,value:L.additional_info})]}),(0,o.jsx)(l.Z,{item:!0,xs:12,children:(0,o.jsx)(p.Z,{variant:"h2",children:"Number of Licenses"})}),(0,o.jsxs)(l.Z,{item:!0,xs:3,children:[(0,o.jsx)(g._,{children:"Silver:"}),(0,o.jsx)(w.Z,{whole:!0,positive:!0,className:t.licenses,name:"silver_licenses",onChange:O,value:L.silver_licenses,helperText:"50 USD/year"})]}),(0,o.jsxs)(l.Z,{item:!0,xs:3,children:[(0,o.jsx)(g._,{children:"Gold:"}),(0,o.jsx)(w.Z,{whole:!0,positive:!0,className:t.licenses,name:"gold_licenses",onChange:O,value:L.gold_licenses,helperText:"500 USD/year"})]}),(0,o.jsxs)(l.Z,{item:!0,xs:3,children:[(0,o.jsx)(g._,{children:"Enterprise:"}),(0,o.jsx)(w.Z,{whole:!0,positive:!0,className:t.licenses,name:"enterprise_licenses",onChange:O,value:L.enterprise_licenses,helperText:"7500 USD/year"})]}),(0,o.jsx)(l.Z,{item:!0,xs:12,children:(0,o.jsx)(h.Z,{type:"button",variant:"contained",color:"secondary",onClick:k,disabled:!N||I,startIcon:I&&(0,o.jsx)(f.Z,{size:16,color:"inherit"}),children:"Request My Quote"})})]})]})}},51741:function(e,t,n){"use strict";n.d(t,{_:function(){return c}});var i=n(26042),r=n(85893),a=n(41120),o=n(96019),s=(0,a.Z)((function(e){return{root:{margin:e.spacing(0,0,1,0),display:"block"}}}));function c(e){var t=s(e);return(0,r.jsx)(o.Z,(0,i.Z)({className:t.root},e))}},92981:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var i=n(26042),r=n(69396),a=n(99534),o=n(85893),s=n(33426),c=n(67294);function d(e){var t=e.whole,n=e.positive,d=e.maxLength,l=e.onInput,p=(0,a.Z)(e,["whole","positive","maxLength","onInput"]),u=(0,c.useCallback)((function(e){var i=e.target.value;t&&(i=parseInt(e.target.value)),n&&(i=Math.max(0,i)),e.target.value=i.toString().slice(0,d),l&&l(e)}),[]);return(0,o.jsx)(s.Z,(0,r.Z)((0,i.Z)({variant:"outlined",size:"small",type:"number",inputProps:(0,i.Z)({min:n?0:void 0},p.inputProps)},p),{onInput:u}))}d.defaultProps={whole:!1,positive:!1,maxLength:10}},34853:function(e,t,n){"use strict";n.d(t,{Z:function(){return g}});var i=n(67294),r=n(45697),a=n.n(r);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},o.apply(this,arguments)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var c=function(e){var t,n;function r(){var t;return(t=e.call(this)||this).handleExpired=t.handleExpired.bind(s(t)),t.handleErrored=t.handleErrored.bind(s(t)),t.handleChange=t.handleChange.bind(s(t)),t.handleRecaptchaRef=t.handleRecaptchaRef.bind(s(t)),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getValue=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this.props.grecaptcha.getResponse(this._widgetId):null},a.getWidgetId=function(){return this.props.grecaptcha&&void 0!==this._widgetId?this._widgetId:null},a.execute=function(){var e=this.props.grecaptcha;if(e&&void 0!==this._widgetId)return e.execute(this._widgetId);this._executeRequested=!0},a.executeAsync=function(){var e=this;return new Promise((function(t,n){e.executionResolve=t,e.executionReject=n,e.execute()}))},a.reset=function(){this.props.grecaptcha&&void 0!==this._widgetId&&this.props.grecaptcha.reset(this._widgetId)},a.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},a.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},a.handleChange=function(e){this.props.onChange&&this.props.onChange(e),this.executionResolve&&(this.executionResolve(e),delete this.executionReject,delete this.executionResolve)},a.explicitRender=function(){if(this.props.grecaptcha&&this.props.grecaptcha.render&&void 0===this._widgetId){var e=document.createElement("div");this._widgetId=this.props.grecaptcha.render(e,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge}),this.captcha.appendChild(e)}this._executeRequested&&this.props.grecaptcha&&void 0!==this._widgetId&&(this._executeRequested=!1,this.execute())},a.componentDidMount=function(){this.explicitRender()},a.componentDidUpdate=function(){this.explicitRender()},a.componentWillUnmount=function(){void 0!==this._widgetId&&(this.delayOfCaptchaIframeRemoving(),this.reset())},a.delayOfCaptchaIframeRemoving=function(){var e=document.createElement("div");for(document.body.appendChild(e),e.style.display="none";this.captcha.firstChild;)e.appendChild(this.captcha.firstChild);setTimeout((function(){document.body.removeChild(e)}),5e3)},a.handleRecaptchaRef=function(e){this.captcha=e},a.render=function(){var e=this.props,t=(e.sitekey,e.onChange,e.theme,e.type,e.tabindex,e.onExpired,e.onErrored,e.size,e.stoken,e.grecaptcha,e.badge,e.hl,function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl"]));return i.createElement("div",o({},t,{ref:this.handleRecaptchaRef}))},r}(i.Component);c.displayName="ReCAPTCHA",c.propTypes={sitekey:a().string.isRequired,onChange:a().func,grecaptcha:a().object,theme:a().oneOf(["dark","light"]),type:a().oneOf(["image","audio"]),tabindex:a().number,onExpired:a().func,onErrored:a().func,size:a().oneOf(["compact","normal","invisible"]),stoken:a().string,hl:a().string,badge:a().oneOf(["bottomright","bottomleft","inline"])},c.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var d=n(8679),l=n.n(d);function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},p.apply(this,arguments)}var u={},h=0;var f="onloadcallback";var m,v,x=(m=function(){return"https://"+(("undefined"!==typeof window&&window.recaptchaOptions||{}).useRecaptchaNet?"recaptcha.net":"www.google.com")+"/recaptcha/api.js?onload="+f+"&render=explicit"},v=(v={callbackName:f,globalName:"grecaptcha"})||{},function(e){var t=e.displayName||e.name||"Component",n=function(t){var n,r;function a(e,n){var i;return(i=t.call(this,e,n)||this).state={},i.__scriptURL="",i}r=t,(n=a).prototype=Object.create(r.prototype),n.prototype.constructor=n,n.__proto__=r;var o=a.prototype;return o.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+h++),this.__scriptLoaderID},o.setupScriptURL=function(){return this.__scriptURL="function"===typeof m?m():m,this.__scriptURL},o.asyncScriptLoaderHandleLoad=function(e){var t=this;this.setState(e,(function(){return t.props.asyncScriptOnLoad&&t.props.asyncScriptOnLoad(t.state)}))},o.asyncScriptLoaderTriggerOnScriptLoaded=function(){var e=u[this.__scriptURL];if(!e||!e.loaded)throw new Error("Script is not loaded.");for(var t in e.observers)e.observers[t](e);delete window[v.callbackName]},o.componentDidMount=function(){var e=this,t=this.setupScriptURL(),n=this.asyncScriptLoaderGetScriptLoaderID(),i=v,r=i.globalName,a=i.callbackName,o=i.scriptId;if(r&&"undefined"!==typeof window[r]&&(u[t]={loaded:!0,observers:{}}),u[t]){var s=u[t];return s&&(s.loaded||s.errored)?void this.asyncScriptLoaderHandleLoad(s):void(s.observers[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)})}var c={};c[n]=function(t){return e.asyncScriptLoaderHandleLoad(t)},u[t]={loaded:!1,observers:c};var d=document.createElement("script");for(var l in d.src=t,d.async=!0,v.attributes)d.setAttribute(l,v.attributes[l]);o&&(d.id=o);var p=function(e){if(u[t]){var n=u[t].observers;for(var i in n)e(n[i])&&delete n[i]}};a&&"undefined"!==typeof window&&(window[a]=function(){return e.asyncScriptLoaderTriggerOnScriptLoaded()}),d.onload=function(){var e=u[t];e&&(e.loaded=!0,p((function(t){return!a&&(t(e),!0)})))},d.onerror=function(){var e=u[t];e&&(e.errored=!0,p((function(t){return t(e),!0})))},document.body.appendChild(d)},o.componentWillUnmount=function(){var e=this.__scriptURL;if(!0===v.removeOnUnmount)for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n+=1)t[n].src.indexOf(e)>-1&&t[n].parentNode&&t[n].parentNode.removeChild(t[n]);var i=u[e];i&&(delete i.observers[this.asyncScriptLoaderGetScriptLoaderID()],!0===v.removeOnUnmount&&delete u[e])},o.render=function(){var t=v.globalName,n=this.props,r=(n.asyncScriptOnLoad,n.forwardedRef),a=function(e,t){if(null==e)return{};var n,i,r={},a=Object.keys(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(n,["asyncScriptOnLoad","forwardedRef"]);return t&&"undefined"!==typeof window&&(a[t]="undefined"!==typeof window[t]?window[t]:void 0),a.ref=r,(0,i.createElement)(e,a)},a}(i.Component),r=(0,i.forwardRef)((function(e,t){return(0,i.createElement)(n,p({},e,{forwardedRef:t}))}));return r.displayName="AsyncScriptLoader("+t+")",r.propTypes={asyncScriptOnLoad:a().func},l()(r,e)})(c),g=x}},function(e){e.O(0,[2683,4231,9774,2888,179],(function(){return t=14633,e(e.s=t);var t}));var t=e.O();_N_E=t}]);